

<!DOCTYPE html>
<html>
<head>
<title>Real Time Weather Widget A Flat Responsive widget Template :: w3layouts</title>
<!-- For-Mobile-Apps -->
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="keywords" content="Real Time Weather Widget Responsive, Login Form Web Template, Flat Pricing Tables, Flat Drop-Downs, Sign-Up Web Templates, Flat Web Templates, Login Sign-up Responsive Web Template, Smartphone Compatible Web Template, Free Web Designs for Nokia, Samsung, LG, Sony Ericsson, Motorola Web Design" />
<script type="application/x-javascript"> addEventListener("load", function() { setTimeout(hideURLbar, 0); }, false); function hideURLbar(){ window.scrollTo(0,1); } </script>
<!-- //For-Mobile-Apps -->
<!-- Style -->
<link rel="stylesheet" href="style.css" type="text/css" media="all" />
<!-- Style -->
<!-- JavaScript -->

<!-- Javascript -->


<script>
    function startTime() {
        var today = new Date();
        var h = today.getHours();
        var m = today.getMinutes();
        var s = today.getSeconds();
        m = checkTime(m);
        s = checkTime(s);
        document.getElementById('txt').innerHTML =
        h + ":" + m + ":" + s;
        var t = setTimeout(startTime, 500);
    }
    function checkTime(i) {
        if (i < 10) {i = "0" + i};  // add zero in front of numbers < 10
        return i;
    }
</script>

</head>
<body onload="startTime()">

<h1>REAL TIME WEATHER WIDGET</h1>

    
<div class="container">
   
    <div class="city">
        Lucknow, UttarPradesh
    </div>

    <div class="content">
        
        <div class="place">

            <div id="txt"></div>

            <div class="dmy">
                
                <script type="text/javascript">
                   var mydate=new Date()
                   var year=mydate.getYear()
                   if(year<1000)
                     year+=1900
                     var day=mydate.getDay()
                     var month=mydate.getMonth()
                     var daym=mydate.getDate()
                   if(daym<10)
                     daym="0"+daym
                     var dayarray=new Array("Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday")
                     var montharray=new Array("January","February","March","April","May","June","July","August","September","October","November","December")
                     document.write(""+dayarray[day]+", "+montharray[month]+" "+daym+", "+year+"")
                </script>
            </div>

        

        </div>

        <div class="temp" id="weather-results">
        <script>
            function renderWeather(weather){
                console.log(weather);
            
            var resultsContainer=document.querySelector("#weather.results");
            var $city=document.createElement("h2");
            $city.textContent=weather.name;
            resultsContainer+$city;
            
            var $temp=document.createElement("p");
            $temp.textContent="Temp: "+weather.main.temp+"p";
            resultsContainer+$temp;
            
            var $humidity=document.createElement("p");
            $humidity.textContent="humidity: "+weather.main.humidity+"%";
            resultsContainer+$humidity;
            
            var $wind=document.createElement("p");
            $wind.textContent="Wind: "+weather.wind.speed+"mph,"+weather.wind.deg+"°";
            resultsContainer+$wind;
            
            
            }
            
            function fetchWeather(query){
               // 
                var url="https://api.openweathermap.org/data/2.5/weather?q=lucknow&appid=66bfb8b095fdb932234e0a92436a0a23";
                fetch(url)
                .then((response) => response.json())
              
                .then((data)=>{let $temp=data.main.temp- 273.15;
                    $temp=$temp.toFixed(2);
                    document.getElementById("weather-results").textContent=$temp+"°C";
              
            });
            }
            fetchWeather();
           </script>
           
        </div>

        <!--search city-->
        <form class="new">
            
            <input type="text" id="city" placeholder="City Name"/>
            <input  id="m" type="submit" value="get Weather" onclick="getWeather()"/>
            <br>
        </form>
        <div id="result">
      
        <script >
            
            function getWeather(){
                event.preventDefault();
                let $city=document.getElementById("city").value;
              
            //d408fcd8d9ca00f486eb569007c5981d
            let url='https://api.openweathermap.org/data/2.5/weather?q='+$city +'&appid=d408fcd8d9ca00f486eb569007c5981d';
           
          
             fetch(url)
          
            .then((res)=>res.json())
       
          // .then((data)=>console.log(data.main.temp - 273.15));
           .then((data)=>{document.getElementById("result").textContent= data.main.temp- 273.15+'°C';
           });
            }
        </script>
        </form>
       
        <div class="clear"></div>

    </div>

</div>



</body>
</html>